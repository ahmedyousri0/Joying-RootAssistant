<!doctype html>
<html>
<head>
    <title>MyMods extension</title>
    <META NAME="description" LANG="EN" CONTENT="Joying tooling">
    <META NAME="keywords" LANG="EN" CONTENT="Joying, Intel, Sofia 3GR, rooting, mods, busybox, SofiaServer, Radio, Viper4Android">
    <META NAME="description" LANG="NL" CONTENT="Joying Tooling">
    <META NAME="keywords" LANG="NL" CONTENT="Joying, Intel, Sofia 3GR, rooting, mods, busybox, SofiaServer, Radio, Viper4Android">
    <META NAME="keywords" LANG="DE" CONTENT="Joying, Intel, Sofia 3GR, rooting, mods, busybox, SofiaServer, Radio, Viper4Android">
    <META NAME="keywords" LANG="FR" CONTENT="Joying, Intel, Sofia 3GR, rooting, mods, busybox, SofiaServer, Radio, Viper4Android">
    <META NAME="keywords" LANG="ES" CONTENT="Joying, Intel, Sofia 3GR, rooting, mods, busybox, SofiaServer, Radio, Viper4Android">

    <meta name="author" content="Harry">
    <meta charset="utf-8">
    <style  type="text/css"> 
        body {font-family: Arial, Helvetica, Sans-serif;}
        .tab { text-indent:40px; }
    </style>
<link rel="shortcut icon" href="images/favicon.ico" >

<link rel="STYLESHEET" type="text/css" href="css/styles.css">

</head>
    <body bgcolor="#FFFFF8">
        <center>
        <table border="0" width="940"><tr><td>
            <!-- First  "menu" -->
           <p class="menu"><a href="https://hvdwolf.github.io/Joying-RootAssistant/">Home</a>&nbsp;&nbsp;&nbsp;<a href="https://github.com/hvdwolf/Joying-RootAssistant/releases">Downloads</a>&nbsp;&nbsp;&nbsp;<a href="manual.html">Manual</a>&nbsp;&nbsp;&nbsp;<a href="rooting.html">Rooting</a>&nbsp;&nbsp;&nbsp;<a href="credits.html">Credits</a>&nbsp;&nbsp;&nbsp;<a href="mymods.html">My Mods</a>&nbsp;&nbsp;&nbsp;<a href="https://github.com/hvdwolf/Joying-RootAssistant/">Source code</a></p>


            <center><H2>The My Mods extension</H2></center>
            <p>The "My Mods" extension can be used to install (and/or test) your own mods or distribute your mods to other users.</p>
            <p>The My Mods option is controlled via an xml file holding one or more apk sections. The file is called "mymods.xml". It needs to be placed in the root of the sdcard, which is called "INTERNAL" in the Joying file manager and which is the same as "internal memory" or "/storage/emulated". (The "real" SD-cards are called like "/storage_external_sd*".)<br>
            <a href="images/mymods-fm.jpg"><img src="images/thumb-mymods-fm.jpg"></a><br>
            The Joying Extra Tools apk checks upon startup if the file is available. If it is the "My Mods" pull-down button is activated.</p>
            <p>Below you will find an explanation of the necessary variables in the xml file.
                <table style="border: 1px solid black; border-collapse; border-spacing:0.7em;">
                    <tr valign="top">
                        <td><b>description</b></td>
                        <td>Description in the "My Mods" pull down menu</td>
                    </tr>
                    <tr valign="top">
                        <td><b>android</b></td>
                        <td>The android version; currently 5.1.1, 6.0.1 or universal (apk works on any Android version).</td>
                    </tr>
                    <tr valign="top">
                        <td><b>rombuilddate&nbsp;&nbsp;&nbsp;&nbsp;</b></td>
                        <td>The date the ROM was built. NOT the release date. This can be found in the unzipped 5009_60.zip under /system/build.prop.
				For example: The 6.0.1 07 July ROM mentions: "ro.build.date=2017-06-29 11:43:58 Thursday". This means rombuilddate is 20170629.
				rombuilddate can also be universal (works on any release of the specified android version).</td>
                    </tr>
                    <tr valign="top">
                        <td><b>modtype</b></td>
                        <td>Is it a "radio/videoplayer/musicplayer/bluetooth/sofiaserver/other" mod. This is important. In case of a radio for example,
			         some automatic checks can be done as they are also done now. Same for the other "known" mods. Only "other" will be dealt with in another way.</td>
                    </tr>
                    <tr valign="top">
                        <td><b>linktype</b></td>
                        <td>web or file: <ul><li>Web requires in origin something like "http://full_path_to_apk/name_of_apk.apk" (or https://).</li> 
		<li>File requires something like "/full_path_to_apk/name_of_apk.apk". The /full_path... is related from the root of the sdcard, not from the root of the device.</li></ul></td>
                    </tr>
                    <tr valign="top">
                        <td><b>origin</b></td>
                        <td>The location from where the apk should be downloaded or copied, and then installed, like:<ul> <li>"/myFantasticMod/myradiomod.apk"</li>
                        <li>http://www.mywebsite.org/myradiomod.apk</li>
		              <li>or some google drive link like https://drive.google.com/uc?export=download&amp;id=0B4J4kKZoV78-RXRLam9hc01yMmM (note that such
		a link is the reason why I need the filename).</li></ul>
                            <b>NOTE:</b><ul><li>the "/myFantasticMod/myradiomod.apk" means "from the root of the internal sdcard" in the folder "myFantasticMod" containing the "myradiomod.apk" in the root of the internal sdcard.</li><li>If you want to specify a real, complete path to the file you need to use "file:///mnt/sdcard/myFantasticMod/myradiomod.apk" (That's how it is done in Appinventor)</li></ul>
		Pay attention to uppercase/lowercase!!<br>In case of a web origin: Only directly downloadable links work. Download services like Mega.nz or Yandisk do not work as they require web browser interaction. Attachments in Forums don't work either in 95% of the cases.</td>
                    </tr>
                    <tr valign="top">
                        <td><b>installpath</b></td>
                        <td>Folder location where the apk needs to be pushed to. In case of a "known mod" (radio, videoplayer, musicplayer, bluetooth, sofiaserver), this is actually not necessary</td>
                    </tr>
                    <tr valign="top">
                        <td><b>reboot</b></td>
                        <td>Is a reboot necessary (yes/no)? If yes, a reboot notification will be displayed with the reboot option behind it. For a "known" mod it will be added anyway.</td>
                    </tr>
                </table>
            </p>
            <p>Below you see an example of the mymods.xml file. 
                <ul>
                    <li>The first entry contains a radiomod that is being installed from the internal sdcard, which is called "INTERNAL" in the Joying file manager and which is the same as "internal memory" or "/storage/emulated". The "real" SD-cards are called like "/storage_external_sd*".</li>
                    <li>The second entry is the exact same mod but downloaded from a website. In this case my github repository.</li>
                    <li>The 3rd entry is a BT mod downloaded from Google drive when you share it (note: fake link).</li>
                </ul>
                <pre>
&lt;apk&gt;
	&lt;description&gt;BlueWhite Radio (from sdcard)&lt;/description&gt;
	&lt;android&gt;6.0.1&lt;/android&gt;
	&lt;rombuilddate&gt;universal&lt;/rombuilddate&gt;
	&lt;modtype&gt;radio&lt;/modtype&gt;
	&lt;filename&gt;JY-1-C9-Radio-V1.0.apk&lt;/filename&gt;
	&lt;linktype&gt;file&lt;/linktype&gt;
	&lt;origin&gt;/sdcard/myradiomod/JY-1-C9-Radio-V1.0.apk&lt;/origin&gt;
	&lt;installpath&gt;/system/app/JY-1-C9-Radio-V1.0&lt;/installpath&gt;
	&lt;reboot&gt;yes&lt;/reboot&gt;
&lt;/apk&gt;
&lt;apk&gt;
	&lt;description&gt;BlueWhite Radio (from web)&lt;/description&gt;
	&lt;android&gt;6.0.1&lt;/android&gt;
	&lt;rombuilddate&gt;universal&lt;/rombuilddate&gt;
	&lt;modtype&gt;radio&lt;/modtype&gt;
	&lt;filename&gt;JY-1-C9-Radio-V1.0.apk&lt;/filename&gt;
	&lt;linktype&gt;web&lt;/linktype&gt;
	&lt;origin&gt;https://github.com/hvdwolf/Joying-RootAssistant/raw/apk/Radio-Mod/6.0.1/BLUE_WHITE/JY-1-C9-Radio-V1.0.apk&lt;/origin&gt;
	&lt;installpath&gt;/system/app/JY-1-C9-Radio-V1.0&lt;/installpath&gt;
	&lt;reboot&gt;yes&lt;/reboot&gt;
&lt;/apk&gt;
&lt;apk&gt;
	&lt;description&gt;Smaller Treel Bluetooth app (800x480 version)&lt;/description&gt;
	&lt;android&gt;6.0.1&lt;/android&gt;
	&lt;rombuilddate&gt;universal&lt;/rombuilddate&gt;
	&lt;modtype&gt;bluetooth&lt;/modtype&gt;
	&lt;filename&gt;JY-1-C9-BT-V1.0.apk&lt;/filename&gt;
	&lt;linktype&gt;web&lt;/linktype&gt;
	&lt;origin&gt;https://drive.google.com/uc?export=download&amp;amp;id=0B4J3kKZoV78-RXRLam9hc00yMmM&lt;/origin&gt;
	&lt;installpath&gt;/system/app/JY-1-C9-BT-V1.0&lt;/installpath&gt;
	&lt;reboot&gt;yes&lt;/reboot&gt;
&lt;/apk&gt;
                </pre>
            (More examples at the bottom of the page.)
            </p>
            <hr>
            <p><b>Note</b>: When creating a mod of type "other", it means that I do not have an Joying original in my apk.<br><b>Always!!</b> make sure to pack the original apk in your mymods.xml as well, so that the user using your mod can install the original apk back in case you made an error, or the stupid Joying 6.0.1 doesn't want to install/accept your mod.</p>
            <hr>
            <p><b>Note 2</b>: When sharing from Google drive you have to think of two things. First you will need to get a sharable link for your downloadable apk. This link will look something like:
            <pre>    https://drive.google.com/open?id=0B4J3kKZoV78-RXRLam9hc00yMmM</pre><i>(Note that the code behind the "id=" is your actual file/apk)</i>.<br><br>This is a webbrowser link and can't be used directly. You need to change the <pre>    https://drive.google.com/open?id=0B4J3kKZoV78-RXRLam9hc00yMmM</pre> 
            to 
            <pre>    https://drive.google.com/uc?export=download<b>&amp;</b>id=0B4J3kKZoV78-RXRLam9hc00yMmM</pre>
            However, as you can't use the <b>&amp;</b> sign in an xml file (or HTML), you need to escape it and change it to <b>&amp;amp;</b><br>
            So your final string will look like <pre>    https://drive.google.com/uc?export=download<b>&amp;amp;</b>id=0B4J3kKZoV78-RXRLam9hc00yMmM</pre>
            <i>(And don't forget the <b>;</b> behind &amp;amp;)</i></p>
            <p>This all sounds (reads) complicated, but if you have done it once, it becomes a piece of cake the next time.</p>
            <hr>
            <p><b>Note 3:</b> When sharing from dropbox you also have to make a change to the link. First you have to share your file. This will give you a link like:
            <pre>    https://www.dropbox.com/s/qq8sh1jzh6sos13/JY-1-C9-Radio-V1.0.apk</pre>
            Change this link to
            <pre>    https://dl.dropboxusercontent.com/s/qq8sh1jzh6sos13/JY-1-C9-Radio-V1.0.apk</pre><br>
            <i>(Personally I totally dislike dropbox. It theoretically gives you 10.000 downloads or 20GB download per day. I shared in the past from dropbox but after 500 or so downloads it totally blocks with bandwidth errors and keeps on blocking the next days. So be aware of this in case a lot of users are going to download your mod(s).)</i></p>
            <hr>
            <p>As already mentioned above in the xml variables explanation: You can't use a file sharing service like mega.nz or yandisk as they are all webbrowser based services and you simply can't create a direct downloadable link as you are not allowed to.</p>
            <HR><p><br><br></p>
                <p><b>More examples</b>:<br>
            Say you made improvements to the translation of certain settings in the CMSettings apk (because in general the translation to other languages is pretty bad).
            You need to create the mymods.xml like:
            <pre>
&lt;apk&gt;
	&lt;description&gt;Car Setting app with better translation for English/French/German/Russion (whatever)&lt;/description&gt;
	&lt;android&gt;6.0.1&lt;/android&gt;
	&lt;rombuilddate&gt;universal&lt;/rombuilddate&gt;
	&lt;modtype&gt;other&lt;/modtype&gt;
	&lt;filename&gt;SYU-2-C9-CMSettings-V1.0.apk&lt;/filename&gt;
	&lt;linktype&gt;web&lt;/linktype&gt;
	&lt;origin&gt;https://drive.google.com/uc?export=download&amp;amp;id=0B4J45KZoV78-RXRLam9hc00yMCz&lt;/origin&gt;
	&lt;installpath&gt;/system/app/SYU-2-C9-CMSettings-V1.0&lt;/installpath&gt;
	&lt;reboot&gt;yes&lt;/reboot&gt;
&lt;/apk&gt;
&lt;apk&gt;
	&lt;description&gt;Original Joying Car Setting app&lt;/description&gt;
	&lt;android&gt;6.0.1&lt;/android&gt;
	&lt;rombuilddate&gt;universal&lt;/rombuilddate&gt;
	&lt;modtype&gt;other&lt;/modtype&gt;
	&lt;filename&gt;SYU-2-C9-CMSettings-V1.0.apk&lt;/filename&gt;
	&lt;linktype&gt;web&lt;/linktype&gt;
	&lt;origin&gt;https://drive.google.com/uc?export=download&amp;amp;id=0B4J45KZoV78-RXRLam9hc00yMmM&lt;/origin&gt;
	&lt;installpath&gt;/system/app/SYU-2-C9-CMSettings-V1.0&lt;/installpath&gt;
	&lt;reboot&gt;yes&lt;/reboot&gt;
&lt;/apk&gt;

            </pre>
            </p>

        </td></tr></table>
</center>
</body>
</html>